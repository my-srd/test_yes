jQuery(document).ready(function(e){"use strict";function t(e){"default-menu"!=e.val()?"full-width-mega"==e.val()?(e.parents(".menu-item-settings").find("p.field-size-width").css("display","none"),e.parents(".menu-item-settings").find("p.field-size-height").css("display","none"),e.parents(".menu-item-settings").find("p.field-html-block").css("display","block")):"sized-mega"==e.val()&&(e.parents(".menu-item-settings").find("p.field-size-width").css("display","block"),e.parents(".menu-item-settings").find("p.field-size-height").css("display","block"),e.parents(".menu-item-settings").find("p.field-html-block").css("display","block")):(e.parents(".menu-item-settings").find("p.field-size-width").css("display","none"),e.parents(".menu-item-settings").find("p.field-size-height").css("display","none"),e.parents(".menu-item-settings").find("p.field-html-block").css("display","none"))}e("p.field-menu-style .edit-menu-item-style").each(function(){t(e(this)),e(this).on("change",function(){t(e(this))})})}),jQuery(function(e){"use strict";function t(e){var t="Are you sure you want to leave?";return e.returnValue=t,t}function i(){e(".import-demo-area .lorada-install-demo-button").removeAttr("disabled"),e(window).unbind("beforeunload",t),setTimeout(function(){e(".lorada-demo-import #import-status").slideUp().html("")},3e3)}function o(t,i,o,s){var n="",a=0;t&&(n+="<h3>Installing "+e("#"+t).html()+"</h3>"),i&&(n+="<strong>"+i+"</strong>"),o&&s&&((a=parseInt(s/o*100))>100&&(a=100),n+='<div class="import-progress-bar" data-progress="'+a+'"><div style="width:'+a+'%;"></div></div>'),e(".lorada-demo-import #import-status").stop().show().html(n)}function s(t){if(t.demo)if(t.reset_menus){var s=t.demo;e.post(ajaxurl,{action:"lorada_reset_menus"},function(e){e&&o(s,e),n(t)}).fail(function(e){n(t)})}else n(t);else i()}function n(t){if(t.demo)if(t.reset_widgets){var s=t.demo;e.post(ajaxurl,{action:"lorada_reset_widgets"},function(e){e&&o(s,e),l(t)}).fail(function(e){l(t)})}else l(t);else i()}e(".lorada-install-demo-button").on("click",function(i){i.preventDefault();var o=e(this),s=o.data("demo-id");o.attr("disabled")||(e(".import-demo-area .lorada-install-demo-button").attr("disabled","disabled"),e(window).bind("beforeunload",t),e("#lorada-install-demo-type").val(s),e("#lorada-install-options").slideDown(),e(".import-success.importer-notice").slideUp(),e("html, body").stop().animate({scrollTop:e("#lorada-install-options").offset().top-50},600))}),e('.lorada-install-demo-button[disabled="disabled"]').on("click",function(e){e.preventDefault()}),e("#lorada-import-no").click(function(){e("#lorada-install-options").slideUp(),i()}),e("#lorada-import-yes").click(function(){var t=e("#lorada-install-demo-type").val(),n={demo:t,reset_menus:e("#lorada-reset-menus").is(":checked"),reset_widgets:e("#lorada-reset-widgets").is(":checked"),import_dummy:e("#lorada-import-dummy").is(":checked"),import_widgets:e("#lorada-import-widgets").is(":checked"),import_options:e("#lorada-import-options").is(":checked")};n.demo&&(o(t,""),function(t){if(!t.demo)return void i();if(t.import_options){var n=t.demo,a={action:"lorada_import_options",demo:n};o(n,"Importing theme options"),e.post(ajaxurl,a,function(e){e&&o(n,e),s(t)}).fail(function(e){s(t)})}else s(t)}(n)),e("#lorada-install-options").slideUp()});var a=0,d=0,r="import_start";function l(t){if(t.demo)if(t.import_dummy){var s=t.demo;a=0,d=0,r="import_start",function t(i,s){var n=i.demo;e.post(ajaxurl,s,function(s){if(s&&/^[\],:{}\s]*$/.test(s.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))if("complete"!=(s=e.parseJSON(s)).process){var l={action:"lorada_import_dummy"};s.process&&(l.process=s.process),s.index&&(l.index=s.index),l.demo=n,t(i,l),a=s.index,d=s.count,r=s.process,o(n,s.message,d,a)}else o(n,s.message),m(i);else o(n,'Failed importing! Please check the "System Status" tab to ensure your server meets all requirements for a successful import. Settings that need attention will be listed in red.'),m(i)}).fail(function(e){if(a<d){var o={action:"lorada_import_dummy"};o.process=r,o.index=++a,o.demo=n,t(i,o)}else{var o={action:"lorada_import_dummy"};o.process=r,o.demo=n,t(i,o)}})}(t,{action:"lorada_import_dummy",process:"import_start",demo:s})}else m(t);else i()}function m(t){if(t.demo)if(t.import_widgets){var s=t.demo,n={action:"lorada_import_widgets",demo:s};o(s,"Importing widgets"),e.post(ajaxurl,n,function(e){e&&o(s,e),p(t)}).fail(function(e){p(t)})}else p(t);else i()}function p(t){t.demo?(o(t.demo,"Import Finished!"),setTimeout(i,600),e(".import-success.importer-notice").slideDown()):i()}});
